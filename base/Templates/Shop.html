<html>
    <head>
        <meta charset ='UTF-8'>
        {% load static %}
        <link rel = 'stylesheet' href ="{%static 'shopstyle.css'%}" >
    </head>

    <body>

        <div class = 'layer1'>
             <!-- Header content here -->
        </div>

        <div class = 'layer2'>
             <!-- Main content here -->
        </div>

        <div class = 'notice'>
            <!--notice content here-->

            <p1 id = 'message'>hello</p1>

        </div>

        
            
            

    <div class = 'panel'>
                    <form method = "POST">
                        {% csrf_token %}
                        <img src="{% static 'images/search.png' %}" class="search-icon">

                        <img src="{% static 'images/filter.png' %}" class="filterlogo">

                        <input type = 'text' class = search name = searching></input>

                        <!-- for button layer-->
                        

                    </form>
                
                    <div class = "buttonlay">
                            <button class = "all" >All</button>
                            <button class = "Crops">Crops</button>
                            <button class = "Pets">Pets</button>
                            <button class = "Bundles">Bundles</button>

                            </div>
                    

                <div class="combo">
        <h1 class="filter">Sort by:</h1>
        


    <div 
            class="custom-dropdown" 
            tabindex="0" 
            role="button" 
            onclick="toggleDropdown(this)" 
            onkeydown="if(event.key==='Enter' || event.key===' '){ this.click(); }"
        >
            <div class="selected">All</div>
            <div class="dropdown-options">
            <div data-value="">All</div>
            <div data-value="1st">A to Z</div>
            <div data-value="2nd">Price: Low - High</div>
            <div data-value="3rd">Price: High - Low</div>
            </div>
        </div>
        </div>

        <div class = "order1" onmouseenter="popUp1(this)" onmouseleave="popDown1(this)" > 
        </div>
        <div class = "order2"  onmouseenter="popUp1(this)" onmouseleave="popDown1(this)" >
        </div>
        <div class = "order3" onmouseenter="popUp1(this)" onmouseleave = "popDown1(this)">
        </div>
        <div class = "order4" onmouseenter="popUp1(this)" onmouseleave="popDown1(this)">
        </div>
        <div class = "order5" onmouseenter="popUp1(this)" onmouseleave="popDown1(this)">
        </div>
        <div class = "order6" onmouseenter="popUp1(this)" onmouseleave="popDown1(this)">
        </div>
        
        



    </div>      
             

            <!--panel content here-->
        


        

        <!--for javascript-->
        <script>
            
             document.addEventListener("DOMContentLoaded", function () {
    const buttons = document.querySelectorAll(".buttonlay button");

    buttons.forEach(button => {
      button.addEventListener("click", function () {
        // Remove active class from all
        buttons.forEach(b => b.classList.remove("active"));
        // Add active to clicked one
        this.classList.add("active");
      });
    });

    // Set "All" as active by default
    document.querySelector(".buttonlay .all").classList.add("active");
  });


            //this is for to set the all button as a default 
            document.addEventListener("DOMContentLoaded", function () {
  const buttons = document.querySelectorAll(".buttonlay button");

  buttons.forEach(btn => {
    btn.addEventListener("click", function () {
      buttons.forEach(b => b.classList.remove("active"));
      this.classList.add("active");
    });
  });

  // set All as default active
  document.querySelector(".buttonlay .all").classList.add("active");
});

        //this for the effect when hovering an order
        function popUp1(element) {
        element.style.transform = "scaleY(1.01)";
        element.style.transition = "transform 0.2s ease";
        }

        function popDown1(element) {
        element.style.transform = "scale(1)";
}
      


function toggleDropdown(dropdown) {
  const options = dropdown.querySelector(".dropdown-options");
  options.style.display = options.style.display === "block" ? "none" : "block";
}

document.querySelectorAll(".dropdown-options div").forEach(option => { //this loops through all the option items 
  option.addEventListener("click", function () {                        //so this lines here adds a click event listener
    const dropdown = this.closest(".custom-dropdown");                  // finds parent 
    dropdown.querySelector(".selected").textContent = this.textContent; //finds the selected box and sets the upper box
    console.log("Selected value:", this.dataset.value); // this just outputs to the console
    dropdown.querySelector(".dropdown-options").style.display = "none";// hides the dropdown list after an option is clicked
  });
});
//this for closing whenever you click outside of the dropbox
document.addEventListener("click",function(event){
    document.querySelectorAll(".custom-dropdown").forEach(dropdown=>{
        if(!dropdown.contains(event.target)){
            dropdown.querySelector(".dropdown-options").style.display = "none";
        }
    });
});

</script>

    </body>

</html>